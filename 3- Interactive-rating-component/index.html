<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interactive Rating Component</title>
    <link rel="stylesheet" href="./css/main.css" />
    <link
      rel="shortcut icon"
      href="/images/favicon-32x32.png"
      type="image/x-icon"
    />
  </head>
  <body>
    <main>
      <section class="card">
        <div class="card__rating">
          <div class="card__icon">
            <img src="./images/icon-star.svg" alt="" class="" />
          </div>
          <h1>How did we do?</h1>
          <p>
            Please let us know how we did with your support request. All
            feedback is appreciated to help us improve our offering!
          </p>
          <ul>
            <li><span>1</span></li>
            <li><span>2</span></li>
            <li class="active"><span>3</span></li>
            <li><span>4</span></li>
            <li><span>5</span></li>
          </ul>
          <a href="" class="card__cta">submit</a>
        </div>
        <div class="thanks hide">
          <img
            src="./images/illustration-thank-you.svg"
            alt=""
            class="thanks__img"
          />
          <span class="msg">you selected 3 / 5</span>
          <h1>thank you</h1>
          <p>
            We appreciate you taking the time to give a rating. If you ever need
            more support, donâ€™t hesitate to get in touch!
          </p>
        </div>
      </section>
    </main>
    <script>
      let $ = (selector) => document.querySelector(selector);
      let $$ = (selector) => document.querySelectorAll(selector);
      let rating = $(".card__rating");
      let thanks = $(".thanks");
      let li = $$("li");
      let btn = $(".card__cta");
      let msg = $(".msg");
      function changeRating(n) {
        li.forEach((el, i) => {
          if (i <= n) {
            el.classList.add("active");
          } else {
            el.classList.remove("active");
          }
          msg.innerText = `you selected ${n + 1} / 5`;
        });
      }
      btn.addEventListener("click", (e) => {
        e.preventDefault();
        rating.classList.add("close");
        thanks.classList.remove("hide");

        thanks.classList.add("open");
      });

      li.forEach((el, i) => {
        el.addEventListener("click", (e) => {
          e.preventDefault();
          changeRating(i);
        });
      });
    </script>
  </body>
</html>
